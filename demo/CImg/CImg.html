<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>轮播图</title>
</head>
<link rel="stylesheet" href="./css/base.css">
<link rel="stylesheet" href="./iconfont/iconfont.css">
<body>
  <h1>轮播图</h1>
  <div class="CImg"></div>
  <div class="other">
    <ul>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
<!-- 13 -->
    </ul>
    <div class="text"></div>
    <div class="anniu">
      <div class="left iconfont icon-fanhui"></div>
      <div class="right iconfont icon-jinru"></div>
    </div>

  </div>

  <script>
      /*点击按钮后：
    1.CImg中图片更换
    2.other中渐变改色
    3.text中内容更改
    4.li添加类.is_active且去掉上一个的is_active
    获取支点**/
    let liAll = document.querySelectorAll('li')
    let CImg = document.querySelector('.CImg')
    let other = document.querySelector('.other')
    let text = document.querySelector('.text')
    let left_btn = document.querySelector('.left')
    let right_btn = document.querySelector('.right')
    let arr = [
    {scr:'./img/img17.jpg',color:'0deg,#e9e6e6 10%,#b8926d',text:'汉皇重色思倾国'},
    {scr:'./img/img4.jpg',color:'0deg,#e9e6e6 10%,#161c28',text:'御宇多年求不得'},
    {scr:'./img/img6.jpg',color:'0deg,#e9e6e6 10%,#fff',text:'杨家有女初长成'},
    {scr:'./img/img7.jpg',color:'0deg,#e9e6e6 10%,#e2e2e2',text:'养在深闺人未识'},
    {scr:'./img/img5.jpg',color:'0deg,#e9e6e6 10%,#e6bd9f',text:'天生丽质难自弃'},
    {scr:'./img/img10.jpg',color:'0deg,#e9e6e6 10%,#d3c0af',text:'一朝选在君王侧'},
    {scr:'./img/img12.jpg',color:'0deg,#e9e6e6 10%,#e2e2e2',text:'回眸一笑百媚生'},
    {scr:'./img/img13.jpg',color:'0deg,#e9e6e6 10%,#515ba3',text:'六宫粉黛无颜色'},
    {scr:'./img/img11.jpg',color:'0deg,#e9e6e6 10%,#344a6f',text:'春寒赐浴华清池'},
    {scr:'./img/img15.jpg',color:'0deg,#e9e6e6 10%,#f3dfd6',text:'温泉水滑洗凝脂'},
    {scr:'./img/img18.jpg',color:'0deg,#e9e6e6 10%,#e2e2e2',text:'侍儿扶起娇无力'},
    {scr:'./img/img19.png',color:'0deg,#e9e6e6 10%,#fad8d5',text:'始是新承恩泽时'},
    {scr:'./img/img20.jpg',color:'0deg,#e9e6e6 10%,#282832',text:'云鬓花颜金步摇'}
    ]
        //每次刷新页面都会生成不同的起始i值，生成随机数
    function getRandom(N,M){
      return Math.floor(Math.random()*(M-N+1))+N
    }
    // 获取随机值i
    let i = getRandom(0,arr.length-1)
    // 初始化页面：
    let fx = function(){
      CImg.style.backgroundImage = `url(${arr[i]['scr']})`
      text.textContent = `${arr[i]['text']}`
      other.style.backgroundImage = `linear-gradient(${arr[i]['color']})`
      liAll[i].classList.add('is_active')
    }
    fx()
    //渲染小圆点li
    for(let x = 0 ; x<liAll.length ; x++){
      liAll[x].classList.add('iconfont')
      liAll[x].classList.add('icon-aixin')
      // 通过点击圆点进行切换
      liAll[x].addEventListener('click',function(){
        fx()
      })
    }


    

   // 定时器设置
  //  const interval = setInterval(function(){
  //   if (i === 12) {
  //     i = 0
  //     fx()
  //     liAll[12].classList.remove('is_active')
  //   }else{
  //     ++i
  //     fx()
  //     liAll[i-1].classList.remove('is_active')
  //   }
  //  }
  //  ,3000)



   right_btn.addEventListener('click',function(){

    if (i === 12) {
      i = 0
      fx()
      liAll[12].classList.remove('is_active')
    }else{
      ++i
      fx()
      liAll[i-1].classList.remove('is_active')
    }
   }) 

   left_btn.addEventListener('click',function(){
    if(i === 0){
      i = 12
      fx()
      liAll[0].classList.remove('is_active')
    }else{
      --i
      fx()
      liAll[i+1].classList.remove('is_active')
    }
   })

  </script>
  
</body>
</html>